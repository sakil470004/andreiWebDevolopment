<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/image.min.css"></head><body><div class="container"><div class="row"><div class="col-md-10 col-md-offset-1 ui image"><p class="lead"><p>Let's do a little exercise to make sure you are understanding the codebase and can logically thing through some problems. As&nbsp;I give you the answer, copy the code onto your code base and make sure everything works. We will go over these changes and updates in the next couple of videos to make sure everything works. <br><br><strong>PLEASE&nbsp;ADD&nbsp;THE&nbsp;BELOW&nbsp;CHANGES&nbsp;TO&nbsp;YOUR&nbsp;CODEBASE BEFORE&nbsp;PROCEEDING&nbsp;TO&nbsp;THE&nbsp;NEXT&nbsp;LECTURE! </strong>Try to answer the Q(Questions) yourself before looking at the A(Answers)<strong><br><br>Feature to add: </strong><em>Load User when the sign in </em></p><p><br></p><p><strong>1 -------------------------- <br>In <em>server.js</em></strong>:<br> </p><p>in the <code>/signin</code> route: After the if statement:</p><p><code>res.json(database.users[0]); </code></p><p>instead of </p><p><code>res.json("success").</code>&nbsp; </p><p><strong>Q: What does this do?</strong></p><p><strong><br>A: We are now returning a real user from our "mock" database.<br><br></strong></p><p><strong>2 --------------------------</strong></p><p><strong><em>In App.js (frontend code):</em></strong></p><p><strong>Q:</strong> Update the state in<em> </em><code><em>App.js</em></code> to look like below and add the <code>loadUser</code> method:<br></p><figure><img src="https://img-a.udemycdn.com/redactor/raw/2020-05-13_15-49-45-a1d8b32bbacfd81d669d97e941e7d7e5.png?oC3MyKFFIOvIJWOtz5oPLiZNEiyhZ79dyN6XfiIdelFTvmIi7sUfZM4iOEGlqPa8TjiByHxNpecZAVA1usF3zo-yXYH24gPbH_FdUmOsnqtsrLJQRBHQuHp71_LijpFtJSIP9NhY0rzm4ydJ7UjirmiNwDp_nVPS8HxLaHLEYdcfaYWH"></figure><p><br>Once you have the above code added, pass the <code>loadUser</code> to the <code>Signin</code>&nbsp;component as a prop. Then pass <em>user.name</em> and <em>user.entries</em> into the <code>Rank</code> component as props.<br><br><br><strong>A: </strong></p><p>Passing the loadUser method to Signin:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<code>&lt;Signin loadUser={this.loadUser} onRouteChange={this.onRouteChange} /&gt;</code>&nbsp;</p><p>Rank with the states of the user:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<code> &lt;Rank name={this.state.user.name} entries={this.state.user.entries}/&gt;</code>&nbsp; </p><p><br><br></p><p><br></p><p><strong>3 --------------------------<br>In <em>Signin.js (frontend code)</em>:</strong></p><p><strong>Q:</strong> Instead of checking if <code>onSubmitSignIn</code> was successful, check the response to see if <code>user.id</code> exists and call two functions if a user is returned from the backend: <code>loadUser(user) </code>and <code>onRouteChange('home')</code></p><p><strong>A: </strong>In the onSubmitSignIn function:</p><pre class="prettyprint linenums">     .....<br>    .then(response =&gt; response.json())<br>      .then(user =&gt; {<br>        if(user.id){ // does the user exist? Did we receive a user with a property of id?<br>          this.props.loadUser(user);<br>          this.props.onRouteChange('home');<br>        }<br>      })</pre><p><br></p><p><strong><br>4 --------------------------</strong></p><p><strong><em>In Rank.js (frontend code):</em></strong></p><p><strong>Q:</strong> Pass&nbsp;two props you need into the <code>Rank</code> component then display the message: <em>"${name} , your current rank is...${entries}"</em> :</p><p><strong>A:</strong></p><pre class="prettyprint linenums">const Rank = ({ name, entries }) =&gt; {<br>  return (<br>    &lt;div&gt;<br>      &lt;div className='white f3'&gt;<br>        {`${name}, your current entry count is...`}<br>      &lt;/div&gt;<br>      &lt;div className='white f1'&gt;<br>        {entries}<br>      &lt;/div&gt;<br>    &lt;/div&gt;<br>  );<br>}</pre><p><strong><br></strong></p><p><br></p><p><br></p></p></div></div></div></body></html>